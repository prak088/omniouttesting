<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0" />
  </head>

  <script src="js/fmwk/setting.js"
          type="text/javascript"></script>
  <script src="js/custom/custom_setting.js"
          type="text/javascript"></script>

  <link rel="stylesheet"
        type="text/css"
        href="assets/fmwk/css/salesforce-lightning-design-system-vf.min.css">
  <link rel="stylesheet"
        type="text/css"
        href="assets/fmwk/css/OmniScriptOuiSldsCss.css">
  <link rel="stylesheet"
        type="text/css"
        href="assets/fmwk/css/vlocityouislds.css">

  <script src="js/fmwk/vlocity_core_assets.js"
          type="text/javascript"></script>
  <script src="js/fmwk/angular_strap_bundle_1_6.js"
          type="text/javascript"></script>
  <script src="js/fmwk/OmniScriptLPThirdParty.js"
          type="text/javascript"></script>
  <script src="js/fmwk/VlocityPdf.min.js"
          type="text/javascript"></script>
  <script src="js/fmwk/VlocityExpressionEngine.min.js"
          type="text/javascript"></script>
  <script src="js/fmwk/ViaDirectives.min.js"
          type="text/javascript"></script>
  <script src="js/fmwk/VlocityDynamicForm.min.js"
          type="text/javascript"></script>
  <script src="js/fmwk/SldsAngular.min.js"
          type="text/javascript"></script>
  <script src="js/fmwk/BusinessProcessJS.min.js"
          type="text/javascript"></script>
  <script src="js/fmwk/BusinessProcessSLDSTemplates.min.js"
          type="text/javascript"></script>

  <script>
    angular.module('miniApp', ["forceng", "vlocity-business-process"])
      .controller('ContactListCtrl', function($scope, force, $location) {
        $scope.showLink = false;

        force.init({
          proxyURL: 'https://omniproxy.herokuapp.com'
        });
        force.login().then(function(oauth) {
          debugger;
          console.log("force login");
          $scope.showLink = true;
        });
      });
  </script>
  <style>
    .test-container {
      margin: 30px;
      font-size: 30px;
    }
  </style>

  <body ng-app="miniApp">
    <div ng-controller="ContactListCtrl"
         class='vlocity via-slds via-omni'
         xmlns:xlink="http://www.w3.org/1999/xlink">
      <div class='test-container'>
        <b>Welcome to Partner Onboarding. We're happy to have you here.</b><br/>
        <p>Click Register to start the Onboarding Process.</p>
        <div ng-if='showLink'>
          <a href="#/OmniScriptType/partner/OmniScriptSubType/registration/OmniScriptLang/English/ContextId//PrefillDataRaptorBundle//false"
             target="_self" style="border: 2px solid #2196F3!important;display: inline-block;padding: 8px 16px;vertical-align: middle;overflow: hidden; text-decoration: none; color: inherit;background-color: white; text-align: center;cursor: pointer;white-space: nowrap;color:#2196F3">Register</a>
        </div>
      </div>

      <div id='VlocityBP'>
        <div ng-if='scriptNotFound1 || scriptNotFound2'
             ng-include="'vlcSldsScriptNotFound.html'"></div>
        <div class="mask vlc-slds-mask"
             ng-show="loading">
          <div class="center-block spinner"
               vlc-slds-spinner="test"></div>
        </div>
        <ng-view id='VlocityBPView'
                 autoscroll="true">
        </ng-view>
        <div ng-show='loading'
             class='modal-backdrop fade in'></div>
      </div>
    </div>

  </body>

</html>
